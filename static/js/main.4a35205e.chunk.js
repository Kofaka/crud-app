(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{105:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},108:function(e,t,a){e.exports=a(292)},115:function(e,t,a){},288:function(e,t,a){},290:function(e,t,a){},292:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"doCreateContract",function(){return v}),a.d(n,"onceGetContract",function(){return y}),a.d(n,"doDeleteContract",function(){return j});var r=a(1),c=a.n(r),o=a(30),i=a.n(o),s=a(295),u=(a(113),a(115),a(22)),l=a(23),m=a(26),d=a(24),p=a(27),b=a(29),_=a(107),E=a(8),h=a.n(E),f=a(10),T=a(55),O=a.n(T);a(124);O.a.apps.length||O.a.initializeApp({apiKey:"AIzaSyCN1JBRTOM5bw8QMLpF5wZF00IdwQwrKoA",authDomain:"polaris327-crud-application.firebaseapp.com",databaseURL:"https://polaris327-crud-application.firebaseio.com",projectId:"polaris327-crud-application",storageBucket:"polaris327-crud-application.appspot.com",messagingSenderId:"715090132651"});var C=O.a.database(),v=function(e){var t=e.id,a=e.userName,n=e.userSurname,r=e.amountInUsd,c=e.currency,o=e.date;return C.ref("contracts/".concat(t)).set({id:t,user:{name:a,surname:n},amountInUsd:r,currency:c,date:o})},y=function(){return C.ref("contracts").once("value")},j=function(e){return C.ref("contracts/".concat(e)).remove()},g=a(296),S=Object(g.a)("SET_CONTRACTS_REQUEST"),D=Object(g.a)("FETCH_CONTRACTS_REQUEST"),k=Object(g.a)("SET_CONTRACTS_NEW_ENTRY"),w=Object(g.a)("FETCH_CONTRACTS_NEW_ENTRY"),x=Object(g.a)("SET_CONTRACTS_DELETE_ENTRY"),A=Object(g.a)("FETCH_CONTRACTS_DELETE_ENTRY"),N=h.a.mark(P),B=h.a.mark(M),R=h.a.mark(z),I=h.a.mark(F),U=h.a.mark(Z),H=h.a.mark(J);function P(){var e;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(f.b)(function(){return n.onceGetContract().then(function(e){return e.val()})});case 3:return e=t.sent,t.next=6,Object(f.c)(D(e));case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0);case 11:case"end":return t.stop()}},N,this,[[0,8]])}function M(){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.d)(S,P);case 2:case"end":return e.stop()}},B,this)}function z(){var e,t,a=arguments;return h.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return e=a.length>0&&void 0!==a[0]?a[0]:{},r.prev=1,r.next=4,Object(f.b)(function(){return n.doCreateContract(e.payload)});case 4:return t=r.sent,r.next=7,Object(f.c)(w(t));case 7:r.next=12;break;case 9:r.prev=9,r.t0=r.catch(1),console.error(r.t0);case 12:case"end":return r.stop()}},R,this,[[1,9]])}function F(){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.d)(k,z);case 2:case"end":return e.stop()}},I,this)}function Z(){var e,t,a=arguments;return h.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return e=a.length>0&&void 0!==a[0]?a[0]:"",r.prev=1,r.next=4,Object(f.b)(function(){return n.doDeleteContract(e.payload)});case 4:return t=r.sent,r.next=7,Object(f.c)(A(t));case 7:r.next=12;break;case 9:r.prev=9,r.t0=r.catch(1),console.error(r.t0);case 12:case"end":return r.stop()}},U,this,[[1,9]])}function J(){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.d)(x,Z);case 2:case"end":return e.stop()}},H,this)}var W=a(100),Q=a.n(W);var L="https://rest.coinapi.io/v1/ohlcv/BITSTAMP_SPOT_ETH_USD/history?apikey=".concat("8E38EABE-532A-4269-AA76-120EB4BDBCD6","&period_id=1MIN&time_start=2018-01-01T00:00:00"),q=Object(g.a)("SET_COIN_API_REQUEST"),Y=Object(g.a)("FETCH_COIN_API_REQUEST"),G=h.a.mark(X),K=h.a.mark(V);function X(){var e;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(f.b)(function(){return Q.a.get(L)});case 3:return e=t.sent,t.next=6,Object(f.c)(Y(e));case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0);case 11:case"end":return t.stop()}},G,this,[[0,8]])}function V(){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.d)(q,X);case 2:case"end":return e.stop()}},K,this)}var $=h.a.mark(ee);function ee(){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.a)([M(),F(),J(),V()]);case 2:case"end":return e.stop()}},$,this)}var te,ae=a(15),ne=a(28),re=a(294),ce=Object(re.a)((te={},Object(ae.a)(te,D,function(e,t){var a=t.payload;return Object(ne.a)({},e,{contractsData:a})}),Object(ae.a)(te,w,function(e,t){return Object(ne.a)({},e,{contractsDataNewEntry:t})}),Object(ae.a)(te,A,function(e,t){return Object(ne.a)({},e,{contractsDataToDeleteId:t})}),te),{contractsData:{},contractsDataNewEntry:{},contractsDataToDeleteId:""}),oe=ce,ie=Object(re.a)(Object(ae.a)({},Y,function(e,t){var a=t.payload;return Object(ne.a)({},e,{coinApiData:a.data})}),{coinApiData:{}}),se=ie,ue=Object(b.c)({contractsReducer:oe,coinApiReducer:se}),le=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||b.d,me=Object(_.a)(),de=le(Object(b.a)(me)),pe=Object(b.e)(ue,{},de);me.run(ee);var be=pe,_e=a(25),Ee=a(5),he=a(103),fe=a(105),Te=a.n(fe),Oe=(a(288),function(){return c.a.createElement("header",{className:"header"},c.a.createElement("img",{src:Te.a,className:"header-logo",alt:"logo"}),c.a.createElement("p",null,"Welcome to React CRUD App"))}),Ce=(a(290),function(e){var t=e.contracts,a=e.deleteHandler;return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ee.h,null,c.a.createElement(Ee.b,null,c.a.createElement("h1",{className:"contracts-table__header text-center my-2"},"Contracts list"))),c.a.createElement(Ee.h,null,c.a.createElement(Ee.b,null,c.a.createElement(Ee.i,{dark:!0,striped:!0,borderless:!0,hover:!0},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"#"),c.a.createElement("td",null,"User name"),c.a.createElement("td",null,"Amount in USD"),c.a.createElement("td",null,"Currency"),c.a.createElement("td",null,"Date"))),c.a.createElement("tbody",null,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=[];return Object.keys(e).length&&Object.keys(e).map(function(n,r){return a.push(c.a.createElement("tr",{key:"".concat(r,"_").concat(e[n].user.name,"_").concat(e[n].user.surname)},console.dir(e[n]),c.a.createElement("th",{scope:"row"},e[n].id),c.a.createElement("td",null,e[n].user.name," ",e[n].user.surname),c.a.createElement("td",null,e[n].amountInUsd),c.a.createElement("td",null,e[n].currency),c.a.createElement("td",null,e[n].date),c.a.createElement("td",null,c.a.createElement(Ee.a,{color:"info",className:"w-100",onClick:function(){return t(e[n].id)}},"Delete contract"))))}),a}(t,a))))))}),ve=function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.setContractsRequest()}},{key:"render",value:function(){var e=this;return c.a.createElement(Ce,{contracts:this.props.contractsData,deleteHandler:function(t){return e.props.setContractsDeleteEntry(t)}})}}]),t}(r.Component),ye=Object(_e.b)(function(e){return{contractsData:function(e){return function(e){return e.contractsReducer.contractsData}(e)}(e)}},{setContractsRequest:S,setContractsDeleteEntry:x})(ve),je=function(e){var t=e.submitHandler,a=e.inputChangeHandler;return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ee.h,null,c.a.createElement(Ee.b,null,c.a.createElement("h1",{className:"contracts-table__header text-center my-2"},"Add new Contract"))),c.a.createElement(Ee.d,{className:"mb-4",onSubmit:t},c.a.createElement(Ee.h,{form:!0},c.a.createElement(Ee.b,null,c.a.createElement(Ee.h,null,c.a.createElement(Ee.b,{md:2},c.a.createElement(Ee.e,null,c.a.createElement(Ee.g,{for:"userName"},"User name"),c.a.createElement(Ee.f,{type:"text",name:"userName",id:"userName",placeholder:"Name",onChange:a}))),c.a.createElement(Ee.b,{md:2},c.a.createElement(Ee.e,null,c.a.createElement(Ee.g,{for:"userSurname"},"User Surname"),c.a.createElement(Ee.f,{type:"text",name:"userSurname",id:"userSurname",placeholder:"Surname",onChange:a}))),c.a.createElement(Ee.b,{md:2},c.a.createElement(Ee.e,null,c.a.createElement(Ee.g,{for:"amountInUsd"},"Amount in USD"),c.a.createElement(Ee.f,{type:"text",name:"amountInUsd",id:"amountInUsd",placeholder:"0",onChange:a}))),c.a.createElement(Ee.b,{md:2},c.a.createElement(Ee.e,null,c.a.createElement(Ee.g,{for:"currency"},"Currency"),c.a.createElement(Ee.f,{type:"text",name:"currency",id:"currency",placeholder:"ETH",onChange:a}))),c.a.createElement(Ee.b,{md:2},c.a.createElement(Ee.e,null,c.a.createElement(Ee.g,{for:"date"},"Date"),c.a.createElement(Ee.f,{type:"text",name:"date",id:"date",placeholder:"2018-04-23",onChange:a}))),c.a.createElement(Ee.b,{md:2,className:"d-flex align-items-end"},c.a.createElement(Ee.a,{color:"info",className:"w-100 mb-3",type:"submit"},"Add contract")))))))},ge=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={userName:"",userSurname:"",amountInUsd:"",currency:"",date:""},a.inputChangeHandler=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(ae.a)({},n,r))},a.addNewContractHandler=function(e){e.preventDefault();var t=Math.round(1e3*Math.random());a.props.setContractsNewEntry(Object(ne.a)({},a.state,{id:t}))},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return c.a.createElement(je,{submitHandler:this.addNewContractHandler,inputChangeHandler:this.inputChangeHandler})}}]),t}(r.Component),Se=Object(_e.b)(null,{setContractsNewEntry:k})(ge),De=function(e){var t=e.chartData;return c.a.createElement(c.a.Fragment,null,c.a.createElement(Oe,null),c.a.createElement("main",{className:"mt-4"},c.a.createElement(Ee.c,null,c.a.createElement(Ee.h,{className:"mb-4"},c.a.createElement(Ee.b,null,c.a.createElement(he.a,{data:t}))),c.a.createElement(Se,null),c.a.createElement(ye,null))))},ke=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).getChartData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=["January","February","March","April","May","June","July","August","September","October","November","December"],a=e.sort(function(e,t){return e.time_coinapi<t.time_coinapi?-1:e.time_coinapi>t.time_coinapi?1:0}),n=a.map(function(e){return t[new Date(e.time_coinapi).getMonth()]}),r=a.map(function(e){return e.bid_price});return{labels:n,datasets:[{label:e.asset_id_base?"The rates for ".concat(e.asset_id_base," currency"):"The rates chart",fill:!1,lineTension:.1,backgroundColor:"rgba(97, 218, 251,0.4)",borderColor:"rgba(97, 218, 251,1)",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:"rgba(97, 218, 251,1)",pointBackgroundColor:"#fff",pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:"rgba(97, 218, 251,1)",pointHoverBorderColor:"rgba(220,220,220,1)",pointHoverBorderWidth:2,pointRadius:1,pointHitRadius:10,data:r}]}},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.setCoinApiRequest()}},{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement(De,{chartData:this.getChartData([{symbol_id:"BITSTAMP_SPOT_BTC_USD",time_exchange:"2013-09-28T22:40:50.0000000Z",time_coinapi:"2017-03-18T22:42:21.3763342Z",ask_price:770,ask_size:3252,bid_price:345,bid_size:124},{symbol_id:"BITSTAMP_SPOT_BTC_USD",time_exchange:"2013-09-28T22:40:50.0000000",time_coinapi:"2017-04-18T22:42:21.3763342",ask_price:770,ask_size:3252,bid_price:123,bid_size:124},{symbol_id:"BITSTAMP_SPOT_BTC_USD",time_exchange:"2013-09-28T22:40:50.0000000Z",time_coinapi:"2017-04-18T22:42:21.3763342Z",ask_price:770,ask_size:3252,bid_price:987,bid_size:124},{symbol_id:"BITSTAMP_SPOT_BTC_USD",time_exchange:"2013-09-28T22:40:50.0000000",time_coinapi:"2017-06-18T22:42:21.3763342",ask_price:770,ask_size:3252,bid_price:760,bid_size:124},{symbol_id:"BITSTAMP_SPOT_BTC_USD",time_exchange:"2013-09-28T22:40:50.0000000Z",time_coinapi:"2017-05-18T22:42:21.3763342Z",ask_price:770,ask_size:3252,bid_price:349,bid_size:124},{symbol_id:"BITSTAMP_SPOT_BTC_USD",time_exchange:"2013-09-28T22:40:50.0000000",time_coinapi:"2017-07-18T22:42:21.3763342",ask_price:770,ask_size:3252,bid_price:333,bid_size:124},{symbol_id:"BITSTAMP_SPOT_BTC_USD",time_exchange:"2013-09-28T22:40:50.0000000Z",time_coinapi:"2017-03-18T22:42:21.3763342Z",ask_price:770,ask_size:3252,bid_price:444,bid_size:124},{symbol_id:"BITSTAMP_SPOT_BTC_USD",time_exchange:"2013-09-28T22:40:50.0000000",time_coinapi:"2017-03-18T22:42:21.3763342",ask_price:770,ask_size:3252,bid_price:567,bid_size:124}])}))}}]),t}(r.Component),we=Object(_e.b)(function(e){return{coinApiData:function(e){return function(e){return e.coinApiReducer.coinApiData}(e)}(e)}},{setCoinApiRequest:q})(ke),xe=function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return c.a.createElement(_e.a,{store:be},c.a.createElement(we,null))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(c.a.createElement(s.a,{basename:"/crud-app"},c.a.createElement(xe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[108,2,1]]]);
//# sourceMappingURL=main.4a35205e.chunk.js.map